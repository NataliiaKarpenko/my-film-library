{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,uZCAzD,I,EAAAC,EAAAJ,EAAA,S,wHCAAI,EAAAJ,EAAA,S,+HCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,MCAtHC,EAAiBR,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,MCAtHE,EAAiBT,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,MCAtHG,EAAiBV,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,MCAtHI,EAAiBX,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,MCAtHK,EAAiBZ,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SNmB/G,IAAMM,EAAkBC,eAAeC,QAAQ,wBACzCC,EAAmBH,EAC5BI,SAASJ,EAAiB,IAC1B,E,SAIWK,I,OAAAA,EAAfC,EAAAf,EAAA,CAAAe,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAWpBC,E,sEAVN,EAAAC,EAAAC,aAAYC,EAAAC,KAAKC,iBACjBC,EAAAC,eAAeC,IAAI,YAAaC,GAChCH,EAAAC,eAAeC,IAAI,YAAaE,GAChCJ,EAAAC,eAAeI,GAAG,YAAaD,GAC/BX,EAAEa,iBAEFtB,eAAeuB,WAAW,gCAE1BV,EAAAC,KAAKU,WAAWC,UAAY,GAEtBf,EAAQD,EAAEiB,OAAOC,SAASC,YAAYC,MAAMC,OAExC,C,uBACRC,EAAAC,OAAOC,QAAQ,4B,2BAIjBC,EAAkBxB,EAAQyB,KAAO,G,6CAlBRC,MAAAC,KAAAC,U,UAqBLJ,EAAkBxB,EAAOyB,G,OAAzBI,EAAiBH,MAAAC,KAAAC,U,UAAjBC,I,OAAAA,EAAflC,EAAAf,EAAA,CAAAe,EAAAC,GAAAC,MAAA,SAAAC,EAAiCE,EAAOyB,G,IAKnCK,EACAC,E,yEALVzB,EAAAC,eAAeC,IAAI,YAAaC,G,UAE9B,EAAAuB,EAAAC,gB,SAEuBC,EAAAC,QAAQC,mBAAmBpC,EAAOyB,G,UAAnDK,EAAMO,EAAAC,KAAJR,KAGc,KAFhBC,EAAoBD,EAAlBC,eAEe,C,uBACrBQ,SAASC,KAAKC,UAAUC,IAAI,qBAC5BpD,eAAeuB,WAAW,cAC1B,EAAAZ,EAAAC,aAAYC,EAAAC,KAAKC,iBAEF,0CACfF,EAAAC,KAAKU,WAAWC,UAAY,GAC5BZ,EAAAC,KAAKU,WAAW6B,mBACd,cACA,EAAAC,EAAAC,yBACElD,EAAAd,GACAc,EAAAX,GACAW,EAAAV,GACAU,EAAAT,GACAS,EAAAR,GACAQ,EAAAP,GAVW,4C,kBAeRiC,EAAAC,OAAOC,QACZ,4E,QAIJjC,eAAewD,QAAQ,YAAa9C,GACpCM,EAAAC,eAAewC,MAAMhB,GACrBzB,EAAAC,eAAeyC,WAAWvB,GAE1BwB,YAAW,YACT,EAAAhD,EAAAiD,aAAY/C,EAAAC,KAAKC,gB,GAChB,K,kDAEHgB,EAAAC,OAAOC,QAAQ,GAAiB4B,OAAdd,EAAAe,GAAMC,U,yBAExBJ,YAAW,YACT,EAAAjB,EAAAsB,c,GACC,K,8EA7CgC5B,MAAAC,KAAAC,U,UAiDjBlB,EAAsB6C,G,OAAtBC,EAAqB9B,MAAAC,KAAAC,U,UAArB4B,I,OAAAA,EAAf7D,EAAAf,EAAA,CAAAe,EAAAC,GAAAC,MAAA,SAAAC,EAAqCyD,G,IACpCE,EACAC,EAII5B,EAEA6B,E,yEAPJF,EAAcF,EAAM9B,KACpBiC,EAAcpE,eAAeC,QAAQ,a,UAGzC,EAAAyC,EAAAC,gB,SACuBC,EAAAC,QAAQC,mBAAmBsB,EAAaD,G,OAAzD3B,EAAMO,EAAAC,KAAJR,KAEF6B,EAAc7B,EAAZ6B,SAER,EAAAzB,EAAA0B,kBAAiBD,GACjBrE,eAAewD,QAAQ,uBAAwBW,IAE/C,EAAAI,EAAAC,e,kDAEAzC,EAAAC,OAAOC,QAAQ,GAAiB4B,OAAdd,EAAAe,GAAMC,U,yBAExBJ,YAAW,YACT,EAAAjB,EAAAsB,c,GACC,K,8EAnBoC5B,MAAAC,KAAAC,U,CAxE3CzB,EAAAC,KAAK2D,WAAWC,iBAAiB,U,SAELjE,G,OAAbL,EAAYgC,MAAAC,KAAAC,U,IDN3B,IAAMqC,EAAc3E,eAAeC,QAAQ,a,SAuB5B2E,I,OAAAA,EAAfvE,EAAAf,EAAA,CAAAe,EAAAC,GAAAC,MAAA,SAAAC,I,IAGQqE,EAGAC,EAOItC,EACAC,E,yEAbV,EAAA9B,EAAAC,aAAYC,EAAAC,KAAKC,iBAEX8D,EAA0B7E,eAAeC,QAC7C,gCAEI6E,EAA2BD,GAE7B,E,UAGF,EAAAnC,EAAAC,gB,SAEuBC,EAAAC,QAAQkC,mBAAmBD,G,OAA5CtC,EAAMO,EAAAC,KAAJR,KACFC,EAAoBD,EAAlBC,cAERzB,EAAAC,eAAewC,MAAMhB,GACrBzB,EAAAC,eAAeyC,WAAWoB,GAE1BnB,YAAW,YACT,EAAAhD,EAAAiD,aAAY/C,EAAAC,KAAKC,gB,GAChB,K,mDAEH,EAAAJ,EAAAC,aAAYC,EAAAC,KAAKC,iBACjBgB,EAAAC,OAAOC,QAAQ,GAAiB4B,OAAdd,EAAAe,GAAMC,U,yBAExBJ,YAAW,YACT,EAAAjB,EAAAsB,c,GACC,K,8EA5BkC5B,MAAAC,KAAAC,U,UAgCnBnB,EAAuB8C,G,OAAvBe,EAAsB5C,MAAAC,KAAAC,U,UAAtB0C,I,OAAAA,EAAf3E,EAAAf,EAAA,CAAAe,EAAAC,GAAAC,MAAA,SAAAC,EAAsCyD,G,IACrCE,EAKI3B,EACA6B,E,yEANJF,EAAcF,EAAM9B,K,UAGxB,EAAAO,EAAAC,gB,SAEuBC,EAAAC,QAAQkC,mBAAmBZ,G,OAA5C3B,EAAMO,EAAAC,KAAJR,KACF6B,EAAc7B,EAAZ6B,SAER,EAAAzB,EAAA0B,kBAAiBD,GAEjBrE,eAAewD,QAAQ,+BAAgCW,IAEvD,EAAAI,EAAAC,e,mDAEA,EAAA7D,EAAAC,aAAYC,EAAAC,KAAKC,iBACjBgB,EAAAC,OAAOC,QAAQ,GAAe4B,OAAZd,EAAAe,GAAIC,U,yBAEtBJ,YAAW,YACT,EAAAjB,EAAAsB,c,GACC,K,8EApBqC5B,MAAAC,KAAAC,U,EAtD5C,EAAA3B,EAAAsE,UAASpE,EAAAC,KAAKoE,SAAU,gBACxB,EAAAvE,EAAAwE,aAAYtE,EAAAC,KAAKsE,YAAa,eAC9BpF,eAAeuB,WAAW,2BAC1BvB,eAAeuB,WAAW,6BAEtBoD,GACF9D,EAAAC,KAAKuE,YAAYxD,MAAQ8C,EACzB3D,EAAAC,eAAeC,IAAI,YAAaC,GAChCe,EAAkByC,EAAazE,GAC/Bc,EAAAC,eAAeI,GAAG,YAAaD,KAE/BJ,EAAAC,eAAeC,IAAI,YAAaE,GAChCJ,EAAAC,eAAeI,GAAG,YAAaF,G,WAUlByD,EAA0BxC,MAAAC,KAAAC,U,CATvCgD,IAGFzE,EAAAC,KAAKoE,SAASR,iBAAiB,SAAS,WACtC1E,eAAeuB,WAAW,gCAC1BvB,eAAeuB,WAAW,wBAC1BvB,eAAeuB,WAAW,Y","sources":["node_modules/@parcel/runtime-js/lib/runtime-db884f7bef66ef4b.js","src/js/gallery-container/popular-movies-gallery.js","src/js/gallery-container/moviesByQuery.js","node_modules/@parcel/runtime-js/lib/runtime-595529103cd43c39.js","node_modules/@parcel/runtime-js/lib/runtime-e5bb90edcd3f9709.js","node_modules/@parcel/runtime-js/lib/runtime-5c9f24e81d30e46b.js","node_modules/@parcel/runtime-js/lib/runtime-5a58fe42c50b77b4.js","node_modules/@parcel/runtime-js/lib/runtime-d9dfcb8121b0bfed.js","node_modules/@parcel/runtime-js/lib/runtime-e0a9708912597c81.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.c94d1035.js\\\",\\\"kCiYs\\\":\\\"oops-desktop.3fb25bbe.png\\\",\\\"9dJT0\\\":\\\"oops-desktop@2x.82a9e4b3.png\\\",\\\"4ddVF\\\":\\\"oops-tab.659a16ce.png\\\",\\\"dXaHk\\\":\\\"oops-tab@2x.feb87145.png\\\",\\\"1Yr9A\\\":\\\"oops-mob.4362e71e.png\\\",\\\"gXR8z\\\":\\\"oops-mob@2x.08d64316.png\\\",\\\"2hvCh\\\":\\\"index.0b099497.js\\\"}\"));","import { Notify } from 'notiflix';\n\nimport { paginationHome } from '../pagination';\nimport { tmdbApi } from './create-movies-list';\nimport { createMoviesList } from './create-movies-list';\nimport { spinnerStart, spinnerStop } from '../loader';\nimport { refs } from '../refs';\nimport { scrollToTop } from '../scrollToTop';\nimport {\n  addClass,\n  hideElement,\n  removeClass,\n  showElement,\n} from '../common-methods';\nimport {\n  initialPageQuery,\n  loadMoreMoviesByQuery,\n  loadMoviesByQuery,\n} from './moviesByQuery';\n\nconst storedQuery = sessionStorage.getItem('userQuery');\naddClass(refs.homeLink, 'active-link');\nremoveClass(refs.libraryLink, 'active-link');\nsessionStorage.removeItem('currentPageLibraryQueue');\nsessionStorage.removeItem('currentPageLibraryWatched');\n\nif (storedQuery) {\n  refs.searchInput.value = storedQuery;\n  paginationHome.off('afterMove', loadMoreTrendingMovies);\n  loadMoviesByQuery(storedQuery, initialPageQuery);\n  paginationHome.on('afterMove', loadMoreMoviesByQuery);\n} else {\n  paginationHome.off('afterMove', loadMoreMoviesByQuery);\n  paginationHome.on('afterMove', loadMoreTrendingMovies);\n  createPopularMoviesGallery();\n}\n\nrefs.homeLink.addEventListener('click', () => {\n  sessionStorage.removeItem('currentPageHomePopularMovies');\n  sessionStorage.removeItem('currentPageHomeQuery');\n  sessionStorage.removeItem('userQuery');\n});\n\nasync function createPopularMoviesGallery() {\n  hideElement(refs.paginationBlock);\n\n  const storedPagePopularMovies = sessionStorage.getItem(\n    'currentPageHomePopularMovies'\n  );\n  const initialPagePopularMovies = storedPagePopularMovies\n    ? storedPagePopularMovies\n    : 1;\n\n  try {\n    spinnerStart();\n\n    const { data } = await tmdbApi.fetchPopularMovies(initialPagePopularMovies);\n    const { total_results } = data;\n\n    paginationHome.reset(total_results);\n    paginationHome.movePageTo(initialPagePopularMovies);\n\n    setTimeout(() => {\n      showElement(refs.paginationBlock);\n    }, 300);\n  } catch (error) {\n    hideElement(refs.paginationBlock);\n    Notify.failure(`${error.message}`);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 200);\n  }\n}\n\nexport async function loadMoreTrendingMovies(event) {\n  const currentPage = event.page;\n\n  try {\n    spinnerStart();\n\n    const { data } = await tmdbApi.fetchPopularMovies(currentPage);\n    const { results } = data;\n\n    createMoviesList(results);\n\n    sessionStorage.setItem('currentPageHomePopularMovies', currentPage);\n\n    scrollToTop();\n  } catch (err) {\n    hideElement(refs.paginationBlock);\n    Notify.failure(`${err.message}`);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 200);\n  }\n}\n","import { Notify } from 'notiflix';\n\nimport { paginationHome } from '../pagination';\nimport { refs } from '../refs';\nimport { tmdbApi } from './create-movies-list';\nimport { createMoviesList } from './create-movies-list';\nimport { loadMoreTrendingMovies } from './popular-movies-gallery';\nimport { spinnerStart, spinnerStop } from '../loader';\nimport { scrollToTop } from '../scrollToTop';\nimport { createImageNotification } from '../image-notification';\nimport { hideElement, showElement } from '../common-methods';\n\nimport oopsDesktop1 from '../../images/oops/oops-desktop.png';\nimport oopsDesktop2 from '../../images/oops/oops-desktop@2x.png';\nimport oopsTab1 from '../../images/oops/oops-tab.png';\nimport oopsTab2 from '../../images/oops/oops-tab@2x.png';\nimport oopsMob1 from '../../images/oops/oops-mob.png';\nimport oopsMob2 from '../../images/oops/oops-mob@2x.png';\n\nexport const storedPageQuery = sessionStorage.getItem('currentPageHomeQuery');\nexport const initialPageQuery = storedPageQuery\n  ? parseInt(storedPageQuery, 10)\n  : 1;\n\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  hideElement(refs.paginationBlock);\n  paginationHome.off('afterMove', loadMoreTrendingMovies);\n  paginationHome.off('afterMove', loadMoreMoviesByQuery);\n  paginationHome.on('afterMove', loadMoreMoviesByQuery);\n  e.preventDefault();\n\n  sessionStorage.removeItem('currentPageHomePopularMovies');\n\n  refs.moviesList.innerHTML = '';\n\n  const query = e.target.elements.searchQuery.value.trim();\n\n  if (!query) {\n    Notify.failure('Enter a key-word, please');\n    return;\n  }\n\n  loadMoviesByQuery(query, (page = 1));\n}\n\nexport async function loadMoviesByQuery(query, page) {\n  paginationHome.off('afterMove', loadMoreTrendingMovies);\n  try {\n    spinnerStart();\n\n    const { data } = await tmdbApi.fetchMoviesByQuery(query, page);\n    const { total_results } = data;\n\n    if (total_results === 0) {\n      document.body.classList.add('alarm-btn-visible');\n      sessionStorage.removeItem('userQuery');\n      hideElement(refs.paginationBlock);\n\n      let oopsText = 'There are no movies matching your query';\n      refs.moviesList.innerHTML = '';\n      refs.moviesList.insertAdjacentHTML(\n        'afterbegin',\n        createImageNotification(\n          oopsDesktop1,\n          oopsDesktop2,\n          oopsTab1,\n          oopsTab2,\n          oopsMob1,\n          oopsMob2,\n          oopsText\n        )\n      );\n\n      return Notify.failure(\n        'There are no movies matching your query. Enter another key-word, please'\n      );\n    }\n\n    sessionStorage.setItem('userQuery', query);\n    paginationHome.reset(total_results);\n    paginationHome.movePageTo(page);\n\n    setTimeout(() => {\n      showElement(refs.paginationBlock);\n    }, 300);\n  } catch (error) {\n    Notify.failure(`${error.message}`);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 300);\n  }\n}\n\nexport async function loadMoreMoviesByQuery(event) {\n  const currentPage = event.page;\n  const storedQuery = sessionStorage.getItem('userQuery');\n\n  try {\n    spinnerStart();\n    const { data } = await tmdbApi.fetchMoviesByQuery(storedQuery, currentPage);\n\n    const { results } = data;\n\n    createMoviesList(results);\n    sessionStorage.setItem('currentPageHomeQuery', currentPage);\n\n    scrollToTop();\n  } catch (error) {\n    Notify.failure(`${error.message}`);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 300);\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"kCiYs\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"9dJT0\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"4ddVF\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"dXaHk\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"1Yr9A\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"gXR8z\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$9be951920f720347$exports","getBundleURL","resolve","$e3214870e6cc5302$exports","$3a4db93a6bea1acc$exports","$020ef6d3047551c6$exports","$1449d588e861f7ce$exports","$99d52517f2e6c1a3$exports","$8f25679c6a5f5ef0$export$7bce0286e51818d8","sessionStorage","getItem","$8f25679c6a5f5ef0$export$e4b0f94fdc636d17","parseInt","$8f25679c6a5f5ef0$var$_onFormSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","e","query","$bNaJi","hideElement","$4Nugj","refs","paginationBlock","$jcFG7","paginationHome","off","$7735cce7122f327d$export$437c3137933a8d1f","$8f25679c6a5f5ef0$export$1889e5eca8c303c2","on","preventDefault","removeItem","moviesList","innerHTML","target","elements","searchQuery","value","trim","$6JpON","Notify","failure","$8f25679c6a5f5ef0$export$f19c9b03f51cfb40","page","apply","this","arguments","$8f25679c6a5f5ef0$var$_loadMoviesByQuery","data","total_results","$kvC6y","spinnerStart","$cAIbZ","tmdbApi","fetchMoviesByQuery","_ctx","sent","document","body","classList","add","insertAdjacentHTML","$h7XRD","createImageNotification","setItem","reset","movePageTo","setTimeout","showElement","concat","t0","message","spinnerStop","event","$8f25679c6a5f5ef0$var$_loadMoreMoviesByQuery","currentPage","storedQuery","results","createMoviesList","$bKWtT","scrollToTop","searchForm","addEventListener","$7735cce7122f327d$var$storedQuery","$7735cce7122f327d$var$_createPopularMoviesGallery","storedPagePopularMovies","initialPagePopularMovies","fetchPopularMovies","$7735cce7122f327d$var$_loadMoreTrendingMovies","addClass","homeLink","removeClass","libraryLink","searchInput","$7735cce7122f327d$var$createPopularMoviesGallery"],"version":3,"file":"index.c94d1035.js.map"}