!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequireb785;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequireb785=a),a("iE7OH").register(JSON.parse('{"EVgbq":"index.e3561300.js","kCiYs":"oops-desktop.3fb25bbe.png","9dJT0":"oops-desktop@2x.82a9e4b3.png","4ddVF":"oops-tab.659a16ce.png","dXaHk":"oops-tab@2x.feb87145.png","1Yr9A":"oops-mob.4362e71e.png","gXR8z":"oops-mob@2x.08d64316.png","2hvCh":"index.557eb332.js"}'));var o,s=a("bpxeT"),i=a("2TvXO"),u=a("6JpON"),c=a("jcFG7"),p=a("cAIbZ"),f=(a("cAIbZ"),a("kvC6y")),l=a("4Nugj"),m=a("bKWtT"),g=a("bNaJi"),v=(s=a("bpxeT"),i=a("2TvXO"),u=a("6JpON"),c=a("jcFG7"),l=a("4Nugj"),a("cAIbZ"),p=a("cAIbZ"),f=a("kvC6y"),m=a("bKWtT"),a("h7XRD"));g=a("bNaJi");o=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("kCiYs");var d;d=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("9dJT0");var b;b=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("4ddVF");var h;h=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("dXaHk");var y;y=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("1Yr9A");var H;H=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("gXR8z");var k=sessionStorage.getItem("currentPageHomeQuery"),E=k?parseInt(k,10):1;function S(){return(S=e(s)(e(i).mark((function t(r){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,g.hideElement)(l.refs.paginationBlock),c.paginationHome.off("afterMove",A),c.paginationHome.off("afterMove",L),c.paginationHome.on("afterMove",L),r.preventDefault(),sessionStorage.removeItem("currentPageHomePopularMovies"),l.refs.moviesList.innerHTML="",n=r.target.elements.searchQuery.value.trim()){e.next=11;break}return u.Notify.failure("Enter a key-word, please"),e.abrupt("return");case 11:T(n,page=1);case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(e,t){return x.apply(this,arguments)}function x(){return(x=e(s)(e(i).mark((function t(r,n){var a,s;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.paginationHome.off("afterMove",A),t.prev=1,(0,f.spinnerStart)(),t.next=5,p.tmdbApi.fetchMoviesByQuery(r,n);case 5:if(a=t.sent.data,0!==(s=a.total_results)){t.next=15;break}return document.body.classList.add("alarm-btn-visible"),sessionStorage.removeItem("userQuery"),(0,g.hideElement)(l.refs.paginationBlock),"There are no movies matching your query",l.refs.moviesList.innerHTML="",l.refs.moviesList.insertAdjacentHTML("afterbegin",(0,v.createImageNotification)(e(o),e(d),e(b),e(h),e(y),e(H),"There are no movies matching your query")),t.abrupt("return",u.Notify.failure("There are no movies matching your query. Enter another key-word, please"));case 15:sessionStorage.setItem("userQuery",r),c.paginationHome.reset(s),c.paginationHome.movePageTo(n),setTimeout((function(){(0,g.showElement)(l.refs.paginationBlock)}),300),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),u.Notify.failure("".concat(t.t0.message));case 24:return t.prev=24,setTimeout((function(){(0,f.spinnerStop)()}),300),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[1,21,24,27]])})))).apply(this,arguments)}function L(e){return M.apply(this,arguments)}function M(){return(M=e(s)(e(i).mark((function t(r){var n,a,o,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.page,a=sessionStorage.getItem("userQuery"),e.prev=2,(0,f.spinnerStart)(),e.next=6,p.tmdbApi.fetchMoviesByQuery(a,n);case 6:o=e.sent.data,s=o.results,(0,p.createMoviesList)(s),sessionStorage.setItem("currentPageHomeQuery",n),(0,m.scrollToTop)(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),u.Notify.failure("".concat(e.t0.message));case 16:return e.prev=16,setTimeout((function(){(0,f.spinnerStop)()}),300),e.finish(16);case 19:case"end":return e.stop()}}),t,null,[[2,13,16,19]])})))).apply(this,arguments)}l.refs.searchForm.addEventListener("submit",(function(e){return S.apply(this,arguments)}));var N=sessionStorage.getItem("userQuery");function _(){return(_=e(s)(e(i).mark((function t(){var r,n,a,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,g.hideElement)(l.refs.paginationBlock),r=sessionStorage.getItem("currentPageHomePopularMovies"),n=r||1,e.prev=3,(0,f.spinnerStart)(),e.next=7,p.tmdbApi.fetchPopularMovies(n);case 7:a=e.sent.data,o=a.total_results,c.paginationHome.reset(o),c.paginationHome.movePageTo(n),setTimeout((function(){(0,g.showElement)(l.refs.paginationBlock)}),300),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),(0,g.hideElement)(l.refs.paginationBlock),u.Notify.failure("".concat(e.t0.message));case 18:return e.prev=18,setTimeout((function(){(0,f.spinnerStop)()}),200),e.finish(18);case 21:case"end":return e.stop()}}),t,null,[[3,14,18,21]])})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=e(s)(e(i).mark((function t(r){var n,a,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.page,e.prev=1,(0,f.spinnerStart)(),e.next=5,p.tmdbApi.fetchPopularMovies(n);case 5:a=e.sent.data,o=a.results,(0,p.createMoviesList)(o),sessionStorage.setItem("currentPageHomePopularMovies",n),(0,m.scrollToTop)(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),(0,g.hideElement)(l.refs.paginationBlock),u.Notify.failure("".concat(e.t0.message));case 16:return e.prev=16,setTimeout((function(){(0,f.spinnerStop)()}),200),e.finish(16);case 19:case"end":return e.stop()}}),t,null,[[1,12,16,19]])})))).apply(this,arguments)}(0,g.addClass)(l.refs.homeLink,"active-link"),(0,g.removeClass)(l.refs.libraryLink,"active-link"),sessionStorage.removeItem("currentPageLibraryQueue"),sessionStorage.removeItem("currentPageLibraryWatched"),N?(l.refs.searchInput.value=N,c.paginationHome.off("afterMove",A),T(N,E),c.paginationHome.on("afterMove",L)):(c.paginationHome.off("afterMove",L),c.paginationHome.on("afterMove",A),function(){_.apply(this,arguments)}()),l.refs.homeLink.addEventListener("click",(function(){sessionStorage.removeItem("currentPageHomePopularMovies"),sessionStorage.removeItem("currentPageHomeQuery"),sessionStorage.removeItem("userQuery")})),a("1LZ5c"),a("9WuAv"),a("7OmGe"),a("hqTnp"),a("AjbG6"),a("5a7cQ"),a("kliol"),a("bNmPK"),a("9VC5X")}();
//# sourceMappingURL=index.e3561300.js.map
