{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7f007aa9a230b77d.js","src/library.js","src/js/library/libraryPage.js","src/js/library/queue.js","node_modules/@parcel/runtime-js/lib/runtime-65168a321093aeec.js","node_modules/@parcel/runtime-js/lib/runtime-197ab3e64e087c45.js","node_modules/@parcel/runtime-js/lib/runtime-86e7b2b694653644.js","node_modules/@parcel/runtime-js/lib/runtime-0a283aaa237bd373.js","node_modules/@parcel/runtime-js/lib/runtime-7906287102e940d4.js","node_modules/@parcel/runtime-js/lib/runtime-e2c86c6f0956671b.js","src/js/library/watched.js","node_modules/@parcel/runtime-js/lib/runtime-f8cd9605787ece43.js","node_modules/@parcel/runtime-js/lib/runtime-944b5ec716ed7f82.js","node_modules/@parcel/runtime-js/lib/runtime-3385a6235b939cf3.js","node_modules/@parcel/runtime-js/lib/runtime-032a60db0e0b6545.js","node_modules/@parcel/runtime-js/lib/runtime-bc423898e68ec3b7.js","node_modules/@parcel/runtime-js/lib/runtime-8d5d0c7232511046.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.4b658a00.js\\\",\\\"f0jWI\\\":\\\"shelf-desktop.7bb6d0fb.png\\\",\\\"bGP1H\\\":\\\"shelf-desktop@2x.6909a1b1.png\\\",\\\"f0MOT\\\":\\\"shelf-tab.210480e4.png\\\",\\\"clORE\\\":\\\"shelf-tab@2x.85309329.png\\\",\\\"1Dd5H\\\":\\\"shelf-mob.0a3e7c68.png\\\",\\\"ckvn1\\\":\\\"shelf-mob@2x.ebc25fea.png\\\",\\\"i31bA\\\":\\\"not-authorized-desktop.6c27e0a6.png\\\",\\\"lRM12\\\":\\\"not-authorized-desktop@2x.9ddae744.png\\\",\\\"dECbq\\\":\\\"not-authorized-tab.714f45a8.png\\\",\\\"lCyPD\\\":\\\"not-authorized-tab@2x.44e6f4e9.png\\\",\\\"kwyPl\\\":\\\"not-authorized-mob.aa0b504f.png\\\",\\\"7uipt\\\":\\\"not-authorized-mob@2x.26f7c7af.png\\\",\\\"2hvCh\\\":\\\"index.3c46af69.js\\\"}\"));","import './js/modals/auth-modals/auth-modal.js';\nimport './js/modals/auth-modals/signup-modal.js';\nimport './js/modals/auth-modals/signout-modal.js';\nimport './js/modals/auth-modals/firebase.js';\nimport './js/addAuthIcon.js';\nimport './js/menu.js';\nimport './js/library/libraryPage.js';\nimport './js/library/watched.js';\nimport './js/calcScrollValue.js';\nimport './js/modals/movie-modal/movie-modal.js';\nimport './js/theme.js';\n","import { Notify } from 'notiflix';\n\nimport { auth } from '../modals/auth-modals/firebase';\nimport { refs } from '../refs';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { spinnerStop } from '../loader';\nimport { createImageNotification } from '../image-notification';\nimport { getQueueCollection, handleQueueBtnClick } from './queue';\nimport { getWatchedCollection, handleWatchedBtnClick } from './watched';\nimport {\n  addClass,\n  enableButton,\n  hideElement,\n  removeClass,\n} from '../common-methods';\n\nimport notAuthorizedDesktop1 from '../../images/not-authorized/not-authorized-desktop.png';\nimport notAuthorizedDesktop2 from '../../images/not-authorized/not-authorized-desktop@2x.png';\nimport notAuthorizedTab1 from '../../images/not-authorized/not-authorized-tab.png';\nimport notAuthorizedTab2 from '../../images/not-authorized/not-authorized-tab@2x.png';\nimport notAuthorizedMob1 from '../../images/not-authorized/not-authorized-mob.png';\nimport notAuthorizedMob2 from '../../images/not-authorized/not-authorized-mob@2x.png';\n\nlet imageText;\nlet currentActiveSection = 'queue';\n\nremoveClass(refs.homeLink, 'active-link');\naddClass(refs.libraryLink, 'active-link');\n\nfunction switchSection(section) {\n  if (currentActiveSection !== section) {\n    currentActiveSection = section;\n\n    const inactiveSection =\n      currentActiveSection === 'queue' ? 'watched' : 'queue';\n    sessionStorage.removeItem(`currentPageLibrary${inactiveSection}`);\n  }\n}\n\nexport function handleBtnClickUnauthorised() {\n  Notify.info('To use the library you should sign up or sign in');\n}\n\nconst onDownLoadPage = () => {\n  enableButton(refs.queueBtn);\n  enableButton(refs.watchedBtn);\n  hideElement(refs.paginationBlock);\n\n  sessionStorage.removeItem('currentPageHomePopularMovies');\n  sessionStorage.removeItem('currentPageHomeQuery');\n  sessionStorage.removeItem('userQuery');\n};\n\nconst updateUIForNotAuthorized = () => {\n  spinnerStop();\n  removeClass(refs.queueBtn, 'active-button');\n  removeClass(refs.watchedBtn, 'active-button');\n  hideElement(refs.paginationBlock);\n  enableButton(refs.queueBtn);\n\n  imageText = 'Sign up or sign in to use your library';\n\n  refs.moviesList.innerHTML = '';\n  refs.moviesList.insertAdjacentHTML(\n    'afterbegin',\n    createImageNotification(\n      notAuthorizedDesktop1,\n      notAuthorizedDesktop2,\n      notAuthorizedTab1,\n      notAuthorizedTab2,\n      notAuthorizedMob1,\n      notAuthorizedMob2,\n      imageText\n    )\n  );\n\n  refs.queueBtn.removeEventListener('click', getQueueCollection);\n  refs.watchedBtn.removeEventListener('click', getWatchedCollection);\n  refs.queueBtn.removeEventListener('click', handleQueueBtnClick);\n  refs.watchedBtn.removeEventListener('click', handleWatchedBtnClick);\n\n  refs.queueBtn.addEventListener('click', handleBtnClickUnauthorised);\n  refs.watchedBtn.addEventListener('click', handleBtnClickUnauthorised);\n};\n\nonAuthStateChanged(auth, user => {\n  onDownLoadPage();\n\n  if (user) {\n    const storedPageWatched = sessionStorage.getItem(\n      'currentPageLibraryWatched'\n    );\n    refs.queueBtn.removeEventListener('click', handleBtnClickUnauthorised);\n    refs.watchedBtn.removeEventListener('click', handleBtnClickUnauthorised);\n\n    refs.queueBtn.addEventListener('click', () => {\n      switchSection('queue');\n      getQueueCollection();\n    });\n    refs.watchedBtn.addEventListener('click', () => {\n      switchSection('watched');\n      getWatchedCollection();\n    });\n\n    if (storedPageWatched) {\n      getWatchedCollection();\n    } else {\n      getQueueCollection();\n    }\n  } else {\n    updateUIForNotAuthorized();\n  }\n});\n","import { doc, onSnapshot } from 'firebase/firestore';\nimport { Notify } from 'notiflix';\n\nimport { refs } from '../refs';\nimport { spinnerStart, spinnerStop } from '../loader';\nimport { auth, db } from '../modals/auth-modals/firebase';\nimport { createMovie } from '../gallery-container/create-movie-markup';\nimport { paginationLibrary } from '../pagination';\nimport { scrollToTop } from '../scrollToTop';\nimport { createImageNotification } from '../image-notification';\nimport { handleBtnClickUnauthorised } from './libraryPage';\n\nimport shelfDesktop1 from '../../images/shelf/shelf-desktop.png';\nimport shelfDesktop2 from '../../images/shelf/shelf-desktop@2x.png';\nimport shelfTab1 from '../../images/shelf/shelf-tab.png';\nimport shelfTab2 from '../../images/shelf/shelf-tab@2x.png';\nimport shelfMob1 from '../../images/shelf/shelf-mob.png';\nimport shelfMob2 from '../../images/shelf/shelf-mob@2x.png';\nimport {\n  addClass,\n  disableButton,\n  enableButton,\n  hideElement,\n  removeClass,\n  showElement,\n} from '../common-methods';\nimport { getMoreWatchedCollection } from './watched';\nimport { createGenresArr } from '../gallery-container/create -genres-arrey';\n\nexport const updateUIForNoMoviesInQueue = () => {\n  sessionStorage.removeItem('currentPageLibraryWatched');\n  hideElement(refs.paginationBlock);\n  enableButton(refs.queueBtn);\n  refs.moviesList.innerHTML = '';\n  refs.moviesList.insertAdjacentHTML(\n    'afterbegin',\n    createImageNotification(\n      shelfDesktop1,\n      shelfDesktop2,\n      shelfTab1,\n      shelfTab2,\n      shelfMob1,\n      shelfMob2,\n      imageText\n    )\n  );\n\n  refs.queueBtn.removeEventListener('click', handleBtnClickUnauthorised);\n  refs.queueBtn.removeEventListener('click', getQueueCollection);\n\n  refs.queueBtn.addEventListener('click', handleQueueBtnClick);\n};\n\nexport function handleQueueBtnClick() {\n  Notify.info(\"You haven't added a movie to your queue yet\");\n\n  addClass(refs.queueBtn, 'active-button');\n  removeClass(refs.watchedBtn, 'active-button');\n}\n\nexport async function getQueueCollection() {\n  paginationLibrary.off('afterMove', getMoreWatchedCollection);\n  paginationLibrary.off('afterMove', getMoreQueueCollection);\n  paginationLibrary.on('afterMove', getMoreQueueCollection);\n\n  sessionStorage.removeItem('currentPageLibraryWatched');\n  addClass(refs.queueBtn, 'active-button');\n  removeClass(refs.watchedBtn, 'active-button');\n  hideElement(refs.paginationBlock);\n\n  try {\n    const storedPageQueue = sessionStorage.getItem('currentPageLibraryQueue');\n    const initialPageQueue = storedPageQueue\n      ? parseInt(storedPageQueue, 10)\n      : 1;\n\n    spinnerStart();\n\n    const user = auth.currentUser;\n\n    onSnapshot(doc(db, 'users', user.uid), doc => {\n      enableButton(refs.watchedBtn);\n      const currentQueue = doc.data()?.queue || [];\n\n      const { total_results, results } =\n        currentQueue[initialPageQueue - 1] || [];\n\n      if (results) {\n        paginationLibrary.reset(total_results);\n\n        paginationLibrary.movePageTo(initialPageQueue);\n        disableButton(refs.queueBtn);\n\n        if (currentQueue.length > 1) showElement(refs.paginationBlock);\n        else hideElement(refs.paginationBlock);\n      } else {\n        if (currentQueue.length > 0) {\n          const newCurrentPage = currentQueue.length;\n          const newTotalResults = newCurrentPage * 9;\n          paginationLibrary.reset(newTotalResults);\n          paginationLibrary.movePageTo(newCurrentPage);\n\n          currentQueue.length > 1\n            ? showElement(refs.paginationBlock)\n            : hideElement(refs.paginationBlock);\n        } else {\n          imageText = `There are no movies in your queue yet`;\n\n          updateUIForNoMoviesInQueue();\n        }\n      }\n    });\n  } catch (e) {\n    console.log('Error getting cached document:', e);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 200);\n  }\n}\n\nexport async function getMoreQueueCollection(event) {\n  const currentPage = event.page;\n\n  try {\n    spinnerStart();\n\n    const user = auth.currentUser;\n\n    onSnapshot(doc(db, 'users', user.uid), doc => {\n      const { results } = doc.data().queue?.[currentPage - 1] || [];\n\n      if (results) {\n        const moviesMarkUp = results.map(\n          ({ id, img, title, genres, releaseYear, vote }) => {\n            const genresArr = genres.split(',');\n            const newGenresArr = createGenresArr(genresArr);\n\n            return createMovie(id, img, title, newGenresArr, releaseYear, vote);\n          }\n        );\n\n        refs.moviesList.innerHTML = moviesMarkUp.join('');\n      }\n\n      sessionStorage.setItem('currentPageLibraryQueue', currentPage);\n\n      scrollToTop();\n    });\n  } catch (e) {\n    console.log('Error getting cached document:', e);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 200);\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"f0jWI\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"bGP1H\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"f0MOT\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"clORE\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"1Dd5H\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"ckvn1\");","import { doc, onSnapshot } from 'firebase/firestore';\nimport { Notify } from 'notiflix';\n\nimport { refs } from '../refs';\nimport { spinnerStart, spinnerStop } from '../loader';\nimport { auth, db } from '../modals/auth-modals/firebase';\nimport { createMovie } from '../gallery-container/create-movie-markup';\nimport { paginationLibrary } from '../pagination';\nimport { scrollToTop } from '../scrollToTop';\nimport { createImageNotification } from '../image-notification';\nimport { handleBtnClickUnauthorised } from './libraryPage';\nimport { getMoreQueueCollection } from './queue';\nimport {\n  addClass,\n  disableButton,\n  enableButton,\n  hideElement,\n  removeClass,\n  showElement,\n} from '../common-methods';\n\nimport shelfDesktop1 from '../../images/shelf/shelf-desktop.png';\nimport shelfDesktop2 from '../../images/shelf/shelf-desktop@2x.png';\nimport shelfTab1 from '../../images/shelf/shelf-tab.png';\nimport shelfTab2 from '../../images/shelf/shelf-tab@2x.png';\nimport shelfMob1 from '../../images/shelf/shelf-mob.png';\nimport shelfMob2 from '../../images/shelf/shelf-mob@2x.png';\nimport { createGenresArr } from '../gallery-container/create -genres-arrey';\n\nexport const updateUIForNoMoviesInWatched = () => {\n  hideElement(refs.paginationBlock);\n  enableButton(refs.queueBtn);\n\n  refs.moviesList.innerHTML = '';\n  refs.moviesList.insertAdjacentHTML(\n    'afterbegin',\n    createImageNotification(\n      shelfDesktop1,\n      shelfDesktop2,\n      shelfTab1,\n      shelfTab2,\n      shelfMob1,\n      shelfMob2,\n      imageText\n    )\n  );\n\n  refs.watchedBtn.removeEventListener('click', handleBtnClickUnauthorised);\n  refs.watchedBtn.removeEventListener('click', getWatchedCollection);\n\n  refs.watchedBtn.addEventListener('click', handleWatchedBtnClick);\n};\n\nexport function handleWatchedBtnClick() {\n  Notify.info(\"You haven't added a movie to your watched yet\");\n\n  addClass(refs.watchedBtn, 'active-button');\n  removeClass(refs.queueBtn, 'active-button');\n}\n\nexport async function getWatchedCollection() {\n  paginationLibrary.off('afterMove', getMoreQueueCollection);\n\n  paginationLibrary.on('afterMove', getMoreWatchedCollection);\n\n  sessionStorage.removeItem('currentPageLibraryQueue');\n  addClass(refs.watchedBtn, 'active-button');\n  removeClass(refs.queueBtn, 'active-button');\n  hideElement(refs.paginationBlock);\n\n  try {\n    spinnerStart();\n    const storedPageWatched = sessionStorage.getItem(\n      'currentPageLibraryWatched'\n    );\n    const initialPageWatched = storedPageWatched\n      ? parseInt(storedPageWatched, 10)\n      : 1;\n\n    const user = auth.currentUser;\n\n    onSnapshot(doc(db, 'users', user.uid), doc => {\n      enableButton(refs.queueBtn);\n      const currentWatched = doc.data()?.watched || [];\n\n      const { total_results, results } =\n        currentWatched[initialPageWatched - 1] || [];\n\n      if (results) {\n        paginationLibrary.reset(total_results);\n\n        paginationLibrary.movePageTo(initialPageWatched);\n        disableButton(refs.watchedBtn);\n\n        if (currentWatched.length > 1) showElement(refs.paginationBlock);\n        else hideElement(refs.paginationBlock);\n      } else {\n        if (currentWatched.length > 0) {\n          const newCurrentPage = currentWatched.length;\n          const newTotalResults = newCurrentPage * 9;\n          paginationLibrary.reset(newTotalResults);\n          paginationLibrary.movePageTo(newCurrentPage);\n\n          currentWatched.length > 1\n            ? showElement(refs.paginationBlock)\n            : hideElement(refs.paginationBlock);\n        } else {\n          imageText = `There are no movies in your watched yet`;\n\n          updateUIForNoMoviesInWatched();\n        }\n      }\n    });\n  } catch (e) {\n    console.log('Error getting cached document:', e);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 200);\n  }\n}\n\nexport async function getMoreWatchedCollection(event) {\n  const currentPage = event.page;\n\n  try {\n    spinnerStart();\n\n    const user = auth.currentUser;\n\n    onSnapshot(doc(db, 'users', user.uid), doc => {\n      const { results } = doc.data().watched?.[currentPage - 1] || [];\n\n      if (results) {\n        const moviesMarkUp = results.map(\n          ({ id, img, title, genres, releaseYear, vote }) => {\n            const genresArr = genres.split(',');\n            const newGenresArr = createGenresArr(genresArr);\n            return createMovie(id, img, title, newGenresArr, releaseYear, vote);\n          }\n        );\n\n        refs.moviesList.innerHTML = moviesMarkUp.join('');\n      }\n\n      sessionStorage.setItem('currentPageLibraryWatched', currentPage);\n\n      scrollToTop();\n    });\n  } catch (e) {\n    console.log('Error getting cached document:', e);\n  } finally {\n    setTimeout(() => {\n      spinnerStop();\n    }, 200);\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"i31bA\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"lRM12\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"dECbq\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"lCyPD\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"kwyPl\");","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"7uipt\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$6JpON","$bpxeT","$9006b27ad6195c3a$exports","getBundleURL","resolve","$70dc42772d5f3568$exports","$a91679e9619d9986$exports","$fc3815c0cb72e227$exports","$78f4e4f09827a718$exports","$581a69b5dc988a36$exports","$8b737afd8eca4829$export$d2fa5083d8c70426","$bNaJi","hideElement","$4Nugj","refs","paginationBlock","enableButton","queueBtn","moviesList","innerHTML","insertAdjacentHTML","$h7XRD","createImageNotification","$parcel$interopDefault","imageText","watchedBtn","removeEventListener","$260ce59926853a26$export$3a05ffb0a891f860","$8b737afd8eca4829$export$aae93e7006da7095","addEventListener","$8b737afd8eca4829$export$6bcf972b1b4e3ed1","Notify","info","addClass","removeClass","$8b737afd8eca4829$var$_getWatchedCollection","apply","this","arguments","$2TvXO","mark","_callee","storedPageWatched","initialPageWatched","user","$jcFG7","paginationLibrary","off","$55f39ce77ad6d8cb$export$185f8fbd2f1bc446","on","$8b737afd8eca4829$export$c6c1ed67d241f55f","sessionStorage","removeItem","$kvC6y","spinnerStart","getItem","parseInt","$5a7cQ","auth","currentUser","$6m2hf","onSnapshot","doc","db","uid","doc1","ref","currentWatched","data","watched","ref1","total_results","results","reset","movePageTo","disableButton","showElement","newCurrentPage","newTotalResults","e","console","log","setTimeout","spinnerStop","event","$8b737afd8eca4829$var$_getMoreWatchedCollection","currentPage","page","doc2","moviesMarkUp","map","param","img","title","genres","releaseYear","vote","genresArr","split","newGenresArr","$3ALyB","createGenresArr","$8WvCV","createMovie","join","setItem","$bKWtT","scrollToTop","$55f39ce77ad6d8cb$export$f111659eaa696d03","$55f39ce77ad6d8cb$export$3857b2db2a248e6d","$55f39ce77ad6d8cb$export$8a5282531a01148c","$55f39ce77ad6d8cb$var$_getQueueCollection","storedPageQueue","initialPageQueue","currentQueue","queue","$55f39ce77ad6d8cb$var$_getMoreQueueCollection","$8fa8ce9b6df8755b$exports","$ea292c74ba2b5937$exports","$2fc44d0cc386e9f2$exports","$caf2d41eeba5af94$exports","$5d481a125371307e$exports","$b825232f8b0fe93b$exports","$260ce59926853a26$var$currentActiveSection","$260ce59926853a26$var$switchSection","section","inactiveSection","concat","homeLink","libraryLink","$gQOBw","onAuthStateChanged"],"version":3,"file":"library.4b658a00.js.map"}