function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=t.parcelRequireb785;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequireb785=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.7c30f455.js","1iAaM":"oops-desktop.3fb25bbe.png","a8mLy":"oops-desktop@2x.82a9e4b3.png","6EBfp":"oops-tab.659a16ce.png","kUGXk":"oops-tab@2x.feb87145.png","40zLy":"oops-mob.4362e71e.png","ebhGQ":"oops-mob@2x.08d64316.png","b9auz":"index.64ec11de.js"}'));var n,i=a("7Y9D8"),s=a("2nhTy"),m=a("jG9k4"),l=(a("jG9k4"),a("gjiCh")),f=a("krGWQ"),u=a("h0oKa"),c=a("cXoHY"),p=(i=a("7Y9D8"),s=a("2nhTy"),f=a("krGWQ"),a("jG9k4"),m=a("jG9k4"),l=a("gjiCh"),u=a("h0oKa"),a("a1APH"));c=a("cXoHY");n=new URL(a("kyEFX").resolve("1iAaM"),import.meta.url).toString();var g;g=new URL(a("kyEFX").resolve("a8mLy"),import.meta.url).toString();var d;d=new URL(a("kyEFX").resolve("6EBfp"),import.meta.url).toString();var y;y=new URL(a("kyEFX").resolve("kUGXk"),import.meta.url).toString();var v;v=new URL(a("kyEFX").resolve("40zLy"),import.meta.url).toString();var H;H=new URL(a("kyEFX").resolve("ebhGQ"),import.meta.url).toString();const S=sessionStorage.getItem("currentPageHomeQuery"),h=S?parseInt(S,10):1;async function b(t,o){s.paginationHome.off("afterMove",L);try{(0,l.spinnerStart)();const{data:r}=await m.tmdbApi.fetchMoviesByQuery(t,o),{total_results:a}=r;if(0===a){document.body.classList.add("alarm-btn-visible"),sessionStorage.removeItem("userQuery"),(0,c.hideElement)(f.refs.paginationBlock);let t="There are no movies matching your query";return f.refs.moviesList.innerHTML="",f.refs.moviesList.insertAdjacentHTML("afterbegin",(0,p.createImageNotification)(e(n),e(g),e(d),e(y),e(v),e(H),t)),i.Notify.failure("There are no movies matching your query. Enter another key-word, please")}sessionStorage.setItem("userQuery",t),s.paginationHome.reset(a),s.paginationHome.movePageTo(o),setTimeout((()=>{(0,c.showElement)(f.refs.paginationBlock)}),300)}catch(e){i.Notify.failure(`${e.message}`)}finally{setTimeout((()=>{(0,l.spinnerStop)()}),300)}}async function k(e){const t=e.page,o=sessionStorage.getItem("userQuery");try{(0,l.spinnerStart)();const{data:e}=await m.tmdbApi.fetchMoviesByQuery(o,t),{results:r}=e;(0,m.createMoviesList)(r),sessionStorage.setItem("currentPageHomeQuery",t),(0,u.scrollToTop)()}catch(e){i.Notify.failure(`${e.message}`)}finally{setTimeout((()=>{(0,l.spinnerStop)()}),300)}}f.refs.searchForm.addEventListener("submit",(async function(e){(0,c.hideElement)(f.refs.paginationBlock),s.paginationHome.off("afterMove",L),s.paginationHome.off("afterMove",k),s.paginationHome.on("afterMove",k),e.preventDefault(),sessionStorage.removeItem("currentPageHomePopularMovies"),f.refs.moviesList.innerHTML="";const t=e.target.elements.searchQuery.value.trim();if(!t)return void i.Notify.failure("Enter a key-word, please");b(t,page=1)}));const E=sessionStorage.getItem("userQuery");async function L(e){const t=e.page;try{(0,l.spinnerStart)();const{data:e}=await m.tmdbApi.fetchPopularMovies(t),{results:o}=e;(0,m.createMoviesList)(o),sessionStorage.setItem("currentPageHomePopularMovies",t),(0,u.scrollToTop)()}catch(e){(0,c.hideElement)(f.refs.paginationBlock),i.Notify.failure(`${e.message}`)}finally{setTimeout((()=>{(0,l.spinnerStop)()}),200)}}(0,c.addClass)(f.refs.homeLink,"active-link"),(0,c.removeClass)(f.refs.libraryLink,"active-link"),sessionStorage.removeItem("currentPageLibraryQueue"),sessionStorage.removeItem("currentPageLibraryWatched"),E?(f.refs.searchInput.value=E,s.paginationHome.off("afterMove",L),b(E,h),s.paginationHome.on("afterMove",k)):(s.paginationHome.off("afterMove",k),s.paginationHome.on("afterMove",L),async function(){(0,c.hideElement)(f.refs.paginationBlock);const e=sessionStorage.getItem("currentPageHomePopularMovies"),t=e||1;try{(0,l.spinnerStart)();const{data:e}=await m.tmdbApi.fetchPopularMovies(t),{total_results:o}=e;s.paginationHome.reset(o),s.paginationHome.movePageTo(t),setTimeout((()=>{(0,c.showElement)(f.refs.paginationBlock)}),300)}catch(e){(0,c.hideElement)(f.refs.paginationBlock),i.Notify.failure(`${e.message}`)}finally{setTimeout((()=>{(0,l.spinnerStop)()}),200)}}()),f.refs.homeLink.addEventListener("click",(()=>{sessionStorage.removeItem("currentPageHomePopularMovies"),sessionStorage.removeItem("currentPageHomeQuery"),sessionStorage.removeItem("userQuery")})),a("amAFH"),a("dIO09"),a("3cAoS"),a("ckd7b"),a("cwmxx"),a("8cKaM"),a("bM9yp"),a("4dIBK"),a("4S0r6");
//# sourceMappingURL=index.7c30f455.js.map
